<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Menu Memo</title>
<link rel="stylesheet" href=".//css/main.css">
</head>

<body>

  <header>
    <h1>家にある野菜メモ</h1>
  </header>

  <main>
    <div class="vegetable_text_1">
      <textarea id="vegetable_1"></textarea>
      <input type="text" id="menu_1">
    </div>

    <div class="vegetable_text_2">
      <textarea id="vegetables_2"></textarea>
      <input type="text" id="menu_2">
    </div>

    <div class="vegetable_text_3">
      <textarea id="vegetables_3"></textarea>
      <input type="text" id="menu_3">
    </div>

    

    <ul>
      <li id="save">保存</li>
      <li id="clear">削除</li>
      <li id="menu">メニュー</li>

    </ul>
  </main>  

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
  

  $("#save").on('click',function(){
    const text1 =$('#vegetable_1').val();
    const menu1 =$('#menu_1').val();
    const data1 = {
      vege1: text1,
      menu1: menu1,};

    const text2 =$('#vegetables_2').val();
    const menu2 =$('#menu_2').val();
    const data2 ={
      vege2:text2,
      menu2:menu2,  };

    const text3 =$('#vegetables_3').val(); 
    const menu3 =$('#menu_3').val(); 
    const data3 ={
      vege3: text3,
      menu3:menu3, };

    console.log(data1);
    const jsonData1 =JSON.stringify(data1);
    console.log(jsonData1);
    localStorage.setItem("dish1", jsonData1);

    console.log(data2);
    const jsonData2 = JSON.stringify(data2);
    console.log(jsonData2);
    localStorage.setItem("dish2" , jsonData2);

    console.log(data3);
    const jsonData3 = JSON.stringify(data3);
    console.log(jsonData3);
    localStorage.setItem("dish3", jsonData3);
  });

  // let vegetables = ["vegetable_1","vegetables_2","vegetables_3"]
  // let deshes = ["dish1","dish2","dish3"]

  $('#clear').on('click',function(){
    localStorage.removeItem("dish1");
    localStorage.removeItem("dish2");
    localStorage.removeItem("dish3");
    $("#vegetable_1").val("");
    $("#vegetables_2").val("");
    $("#vegetables_3").val("");
    $("#menu_1").val("");
    $("#menu_2").val("");
    $("#menu_3").val("");

    if(localStorage.getItem('dish1')){
      const jsonData1 = localStorage.getItem('dish1');
      console.log(jsonData1);
      const jdata1 = JSON.parse(jsonData1);

      $('#vegetable_1').val(data1.vege1);
      $('#menu_1').val(data1.menu1);
    };

    if(localStorage.getItem('dish2')){
      const jsonData2 = localStorage.getItem('dish2');
      console.log(jsonData2);
      const jdata2 = JSON.parse(jsonData2);

      $('#vegetables_2').val(data2.vege2);
      $('#menu_2').val(data2.menu2);
    };

    if(localStorage.getItem('dish3')){
      const jsonData3 = localStorage.getItem('dish3');
      console.log(jsonData3);
      const jdata3 = JSON.parse(jsonData3);

      $('#vegetables_3').val(data3.vege3);
      $('#menu_3').val(data3.menu3);

    };

  });

</script>


</body>
</html>